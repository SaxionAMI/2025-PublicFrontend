import{Q as ae}from"./QCardSection.b34310d4.js";import{u as be,a as ye,b as we,c as xe,f as re,d as pe,v as Me}from"./package.349b24af.js";import{r as D,v as Z,N as Y,j as Se,c as S,n as le,o as Ve,f as fe,h as j,aC as Ce,l as oe,ap as se,ak as _e,k as Fe,A as me,aj as Ie,av as X,s as ee,Q as ge,x as Ae,y as Ee,z as Re,Z as qe,aL as Pe,_ as Oe,D as Te,u as $e,a as Be,E as je,G as ze,H as Ne,I as W,aM as De,af as z,J as L,ay as ne,aN as ie,K as Ke,ah as Le,ag as Qe}from"./index.a71a8587.js";import{u as ve,b as Ue,a as Ze}from"./use-form.4687d2a8.js";import{d as he,a as He,u as We,b as Ye,Q as Ge}from"./QCard.57ffed8c.js";import{u as Je}from"./dataStore.7b3c97bb.js";import{u as Xe}from"./use-quasar.7fbd2c44.js";import"./uid.42677368.js";const ue={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},te={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ke=Object.keys(te);ke.forEach(e=>{te[e].regex=new RegExp(te[e].pattern)});const et=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ke.join("")+"])|(.)","g"),de=/[.*+?^${}()|[\]\\]/g,_=String.fromCharCode(1),tt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function at(e,d,o,w){let s,i,f,q,P,g;const p=D(null),v=D(u());function O(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Z(()=>e.type+e.autogrow,C),Z(()=>e.mask,l=>{if(l!==void 0)T(v.value,!0);else{const n=R(v.value);C(),e.modelValue!==n&&d("update:modelValue",n)}}),Z(()=>e.fillMask+e.reverseFillMask,()=>{p.value===!0&&T(v.value,!0)}),Z(()=>e.unmaskedValue,()=>{p.value===!0&&T(v.value)});function u(){if(C(),p.value===!0){const l=E(R(e.modelValue));return e.fillMask!==!1?G(l):l}return e.modelValue}function h(l){if(l<s.length)return s.slice(-l);let n="",r=s;const t=r.indexOf(_);if(t>-1){for(let c=l-r.length;c>0;c--)n+=_;r=r.slice(0,t)+n+r.slice(t)}return r}function C(){if(p.value=e.mask!==void 0&&e.mask.length!==0&&O(),p.value===!1){q=void 0,s="",i="";return}const l=ue[e.mask]===void 0?e.mask:ue[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",r=n.replace(de,"\\$&"),t=[],c=[],m=[];let V=e.reverseFillMask===!0,k="",b="";l.replace(et,(F,a,M,Q,K)=>{if(Q!==void 0){const B=te[Q];m.push(B),b=B.negate,V===!0&&(c.push("(?:"+b+"+)?("+B.pattern+"+)?(?:"+b+"+)?("+B.pattern+"+)?"),V=!1),c.push("(?:"+b+"+)?("+B.pattern+")?")}else if(M!==void 0)k="\\"+(M==="\\"?"":M),m.push(M),t.push("([^"+k+"]+)?"+k+"?");else{const B=a!==void 0?a:K;k=B==="\\"?"\\\\\\\\":B.replace(de,"\\\\$&"),m.push(B),t.push("([^"+k+"]+)?"+k+"?")}});const H=new RegExp("^"+t.join("")+"("+(k===""?".":"[^"+k+"]")+"+)?"+(k===""?"":"["+k+"]*")+"$"),U=c.length-1,y=c.map((F,a)=>a===0&&e.reverseFillMask===!0?new RegExp("^"+r+"*"+F):a===U?new RegExp("^"+F+"("+(b===""?".":b)+"+)?"+(e.reverseFillMask===!0?"$":r+"*")):new RegExp("^"+F));f=m,q=F=>{const a=H.exec(e.reverseFillMask===!0?F:F.slice(0,m.length+1));a!==null&&(F=a.slice(1).join(""));const M=[],Q=y.length;for(let K=0,B=F;K<Q;K++){const J=y[K].exec(B);if(J===null)break;B=B.slice(J.shift().length),M.push(...J)}return M.length!==0?M.join(""):F},s=m.map(F=>typeof F=="string"?F:_).join(""),i=s.split(_).join(n)}function T(l,n,r){const t=w.value,c=t.selectionEnd,m=t.value.length-c,V=R(l);n===!0&&C();const k=E(V),b=e.fillMask!==!1?G(k):k,H=v.value!==b;t.value!==b&&(t.value=b),H===!0&&(v.value=b),document.activeElement===t&&Y(()=>{if(b===i){const y=e.reverseFillMask===!0?i.length:0;t.setSelectionRange(y,y,"forward");return}if(r==="insertFromPaste"&&e.reverseFillMask!==!0){const y=t.selectionEnd;let F=c-1;for(let a=P;a<=F&&a<y;a++)s[a]!==_&&F++;I.right(t,F);return}if(["deleteContentBackward","deleteContentForward"].indexOf(r)>-1){const y=e.reverseFillMask===!0?c===0?b.length>k.length?1:0:Math.max(0,b.length-(b===i?0:Math.min(k.length,m)+1))+1:c;t.setSelectionRange(y,y,"forward");return}if(e.reverseFillMask===!0)if(H===!0){const y=Math.max(0,b.length-(b===i?0:Math.min(k.length,m+1)));y===1&&c===1?t.setSelectionRange(y,y,"forward"):I.rightReverse(t,y)}else{const y=b.length-m;t.setSelectionRange(y,y,"backward")}else if(H===!0){const y=Math.max(0,s.indexOf(_),Math.min(k.length,c)-1);I.right(t,y)}else{const y=c-1;I.right(t,y)}});const U=e.unmaskedValue===!0?R(b):b;String(e.modelValue)!==U&&(e.modelValue!==null||U!=="")&&o(U,!0)}function $(l,n,r){const t=E(R(l.value));n=Math.max(0,s.indexOf(_),Math.min(t.length,n)),P=n,l.setSelectionRange(n,r,"forward")}const I={left(l,n){const r=s.slice(n-1).indexOf(_)===-1;let t=Math.max(0,n-1);for(;t>=0;t--)if(s[t]===_){n=t,r===!0&&n++;break}if(t<0&&s[n]!==void 0&&s[n]!==_)return I.right(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},right(l,n){const r=l.value.length;let t=Math.min(r,n+1);for(;t<=r;t++)if(s[t]===_){n=t;break}else s[t-1]===_&&(n=t);if(t>r&&s[n-1]!==void 0&&s[n-1]!==_)return I.left(l,r);l.setSelectionRange(n,n,"forward")},leftReverse(l,n){const r=h(l.value.length);let t=Math.max(0,n-1);for(;t>=0;t--)if(r[t-1]===_){n=t;break}else if(r[t]===_&&(n=t,t===0))break;if(t<0&&r[n]!==void 0&&r[n]!==_)return I.rightReverse(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},rightReverse(l,n){const r=l.value.length,t=h(r),c=t.slice(0,n+1).indexOf(_)===-1;let m=Math.min(r,n+1);for(;m<=r;m++)if(t[m-1]===_){n=m,n>0&&c===!0&&n--;break}if(m>r&&t[n-1]!==void 0&&t[n-1]!==_)return I.leftReverse(l,r);l.setSelectionRange(n,n,"forward")}};function x(l){d("click",l),g=void 0}function A(l){if(d("keydown",l),Se(l)===!0||l.altKey===!0)return;const n=w.value,r=n.selectionStart,t=n.selectionEnd;if(l.shiftKey||(g=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&g===void 0&&(g=n.selectionDirection==="forward"?r:t);const c=I[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),c(n,g===r?t:r),l.shiftKey){const m=n.selectionStart;n.setSelectionRange(Math.min(g,m),Math.max(g,m),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&r===t?(I.left(n,r),n.setSelectionRange(n.selectionStart,t,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&r===t&&(I.rightReverse(n,t),n.setSelectionRange(r,n.selectionEnd,"forward"))}function E(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return N(l);const n=f;let r=0,t="";for(let c=0;c<n.length;c++){const m=l[r],V=n[c];if(typeof V=="string")t+=V,m===V&&r++;else if(m!==void 0&&V.regex.test(m))t+=V.transform!==void 0?V.transform(m):m,r++;else return t}return t}function N(l){const n=f,r=s.indexOf(_);let t=l.length-1,c="";for(let m=n.length-1;m>=0&&t>-1;m--){const V=n[m];let k=l[t];if(typeof V=="string")c=V+c,k===V&&t--;else if(k!==void 0&&V.regex.test(k))do c=(V.transform!==void 0?V.transform(k):k)+c,t--,k=l[t];while(r===m&&k!==void 0&&V.regex.test(k));else return c}return c}function R(l){return typeof l!="string"||q===void 0?typeof l=="number"?q(""+l):l:q(l)}function G(l){return i.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?i.slice(0,-l.length)+l:l+i.slice(l.length)}return{innerValue:v,hasMask:p,moveCursorForPaste:$,updateMaskValue:T,onMaskedKeydown:A,onMaskedClick:x}}function nt(e,d){function o(){const w=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(w)===w&&("length"in w?Array.from(w):[w]).forEach(i=>{s.items.add(i)}),{files:s.files}}catch{return{files:void 0}}}return d===!0?S(()=>{if(e.type==="file")return o()}):S(o)}var ce=le({name:"QInput",inheritAttrs:!1,props:{...be,...tt,...ve,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ye,"paste","change","keydown","click","animationend"],setup(e,{emit:d,attrs:o}){const{proxy:w}=oe(),{$q:s}=w,i={};let f=NaN,q,P,g=null,p;const v=D(null),O=Ue(e),{innerValue:u,hasMask:h,moveCursorForPaste:C,updateMaskValue:T,onMaskedKeydown:$,onMaskedClick:I}=at(e,d,k,v),x=nt(e,!0),A=S(()=>re(u.value)),E=pe(m),N=we(),R=S(()=>e.type==="textarea"||e.autogrow===!0),G=S(()=>R.value===!0||["text","search","url","tel","password"].includes(e.type)),l=S(()=>{const a={...N.splitAttrs.listeners.value,onInput:m,onPaste:c,onChange:H,onBlur:U,onFocus:se};return a.onCompositionstart=a.onCompositionupdate=a.onCompositionend=E,h.value===!0&&(a.onKeydown=$,a.onClick=I),e.autogrow===!0&&(a.onAnimationend=V),a}),n=S(()=>{const a={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:O.value,...N.splitAttrs.attributes.value,id:N.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return R.value===!1&&(a.type=e.type),e.autogrow===!0&&(a.rows=1),a});Z(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),Z(()=>e.modelValue,a=>{if(h.value===!0){if(P===!0&&(P=!1,String(a)===f))return;T(a)}else u.value!==a&&(u.value=a,e.type==="number"&&i.hasOwnProperty("value")===!0&&(q===!0?q=!1:delete i.value));e.autogrow===!0&&Y(b)}),Z(()=>e.autogrow,a=>{a===!0?Y(b):v.value!==null&&o.rows>0&&(v.value.style.height="auto")}),Z(()=>e.dense,()=>{e.autogrow===!0&&Y(b)});function r(){he(()=>{const a=document.activeElement;v.value!==null&&v.value!==a&&(a===null||a.id!==N.targetUid.value)&&v.value.focus({preventScroll:!0})})}function t(){v.value!==null&&v.value.select()}function c(a){if(h.value===!0&&e.reverseFillMask!==!0){const M=a.target;C(M,M.selectionStart,M.selectionEnd)}d("paste",a)}function m(a){if(!a||!a.target)return;if(e.type==="file"){d("update:modelValue",a.target.files);return}const M=a.target.value;if(a.target.qComposing===!0){i.value=M;return}if(h.value===!0)T(M,!1,a.inputType);else if(k(M),G.value===!0&&a.target===document.activeElement){const{selectionStart:Q,selectionEnd:K}=a.target;Q!==void 0&&K!==void 0&&Y(()=>{a.target===document.activeElement&&M.indexOf(a.target.value)===0&&a.target.setSelectionRange(Q,K)})}e.autogrow===!0&&b()}function V(a){d("animationend",a),b()}function k(a,M){p=()=>{g=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==a&&f!==a&&(f=a,M===!0&&(P=!0),d("update:modelValue",a),Y(()=>{f===a&&(f=NaN)})),p=void 0},e.type==="number"&&(q=!0,i.value=a),e.debounce!==void 0?(g!==null&&clearTimeout(g),i.value=a,g=setTimeout(p,e.debounce)):p()}function b(){requestAnimationFrame(()=>{const a=v.value;if(a!==null){const M=a.parentNode.style,{scrollTop:Q}=a,{overflowY:K,maxHeight:B}=s.platform.is.firefox===!0?{}:window.getComputedStyle(a),J=K!==void 0&&K!=="scroll";J===!0&&(a.style.overflowY="hidden"),M.marginBottom=a.scrollHeight-1+"px",a.style.height="1px",a.style.height=a.scrollHeight+"px",J===!0&&(a.style.overflowY=parseInt(B,10)<a.scrollHeight?"auto":"hidden"),M.marginBottom="",a.scrollTop=Q}})}function H(a){E(a),g!==null&&(clearTimeout(g),g=null),p!==void 0&&p(),d("change",a.target.value)}function U(a){a!==void 0&&se(a),g!==null&&(clearTimeout(g),g=null),p!==void 0&&p(),q=!1,P=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=u.value!==void 0?u.value:"")})}function y(){return i.hasOwnProperty("value")===!0?i.value:u.value!==void 0?u.value:""}Ve(()=>{U()}),fe(()=>{e.autogrow===!0&&b()}),Object.assign(N,{innerValue:u,fieldClass:S(()=>`q-${R.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:S(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:k,hasValue:A,floatingLabel:S(()=>A.value===!0&&(e.type!=="number"||isNaN(u.value)===!1)||re(e.displayValue)),getControl:()=>j(R.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...l.value,...e.type!=="file"?{value:y()}:x.value}),getShadowControl:()=>j("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(R.value===!0?"":" text-no-wrap")},[j("span",{class:"invisible"},y()),j("span",e.shadowText)])});const F=xe(N);return Object.assign(w,{focus:r,select:t,getNativeElement:()=>v.value}),Ce(w,"nativeEl",()=>v.value),F}});function lt(e,d){const o=D(null),w=S(()=>e.disable===!0?null:j("span",{ref:o,class:"no-outline",tabindex:-1}));function s(i){const f=d.value;i!==void 0&&i.type.indexOf("key")===0?f!==null&&document.activeElement!==f&&f.contains(document.activeElement)===!0&&f.focus():o.value!==null&&(i===void 0||f!==null&&f.contains(i.target)===!0)&&o.value.focus()}return{refocusTargetEl:w,refocusTarget:s}}var ot={xs:30,sm:35,md:40,lg:50,xl:60};const rt={...We,...Ie,...ve,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},st=["update:modelValue"];function it(e,d){const{props:o,slots:w,emit:s,proxy:i}=oe(),{$q:f}=i,q=He(o,f),P=D(null),{refocusTargetEl:g,refocusTarget:p}=lt(o,P),v=_e(o,ot),O=S(()=>o.val!==void 0&&Array.isArray(o.modelValue)),u=S(()=>{const t=X(o.val);return O.value===!0?o.modelValue.findIndex(c=>X(c)===t):-1}),h=S(()=>O.value===!0?u.value>-1:X(o.modelValue)===X(o.trueValue)),C=S(()=>O.value===!0?u.value===-1:X(o.modelValue)===X(o.falseValue)),T=S(()=>h.value===!1&&C.value===!1),$=S(()=>o.disable===!0?-1:o.tabindex||0),I=S(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(q.value===!0?` q-${e}--dark`:"")+(o.dense===!0?` q-${e}--dense`:"")+(o.leftLabel===!0?" reverse":"")),x=S(()=>{const t=h.value===!0?"truthy":C.value===!0?"falsy":"indet",c=o.color!==void 0&&(o.keepColor===!0||(e==="toggle"?h.value===!0:C.value!==!0))?` text-${o.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${t}${c}`}),A=S(()=>{const t={type:"checkbox"};return o.name!==void 0&&Object.assign(t,{".checked":h.value,"^checked":h.value===!0?"checked":void 0,name:o.name,value:O.value===!0?o.val:o.trueValue}),t}),E=Ze(A),N=S(()=>{const t={tabindex:$.value,role:e==="toggle"?"switch":"checkbox","aria-label":o.label,"aria-checked":T.value===!0?"mixed":h.value===!0?"true":"false"};return o.disable===!0&&(t["aria-disabled"]="true"),t});function R(t){t!==void 0&&(ee(t),p(t)),o.disable!==!0&&s("update:modelValue",G(),t)}function G(){if(O.value===!0){if(h.value===!0){const t=o.modelValue.slice();return t.splice(u.value,1),t}return o.modelValue.concat([o.val])}if(h.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(C.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function l(t){(t.keyCode===13||t.keyCode===32)&&ee(t)}function n(t){(t.keyCode===13||t.keyCode===32)&&R(t)}const r=d(h,T);return Object.assign(i,{toggle:R}),()=>{const t=r();o.disable!==!0&&E(t,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const c=[j("div",{class:x.value,style:v.value,"aria-hidden":"true"},t)];g.value!==null&&c.push(g.value);const m=o.label!==void 0?Fe(w.default,[o.label]):me(w.default);return m!==void 0&&c.push(j("div",{class:`q-${e}__label q-anchor--skip`},m)),j("div",{ref:P,class:I.value,...N.value,onClick:R,onKeydown:l,onKeyup:n},c)}}const ut=j("div",{key:"svg",class:"q-checkbox__bg absolute"},[j("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[j("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),j("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var dt=le({name:"QCheckbox",props:rt,emits:st,setup(e){function d(o,w){const s=S(()=>(o.value===!0?e.checkedIcon:w.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>s.value!==null?[j("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[j(ge,{class:"q-checkbox__icon",name:s.value})])]:[ut]}return it("checkbox",d)}}),ct=le({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:d,emit:o}){const w=oe(),s=D(null);let i=0;const f=[];function q(u){const h=typeof u=="boolean"?u:e.noErrorFocus!==!0,C=++i,T=(x,A)=>{o("validation"+(x===!0?"Success":"Error"),A)},$=x=>{const A=x.validate();return typeof A.then=="function"?A.then(E=>({valid:E,comp:x}),E=>({valid:!1,comp:x,err:E})):Promise.resolve({valid:A,comp:x})};return(e.greedy===!0?Promise.all(f.map($)).then(x=>x.filter(A=>A.valid!==!0)):f.reduce((x,A)=>x.then(()=>$(A).then(E=>{if(E.valid===!1)return Promise.reject(E)})),Promise.resolve()).catch(x=>[x])).then(x=>{if(x===void 0||x.length===0)return C===i&&T(!0),!0;if(C===i){const{comp:A,err:E}=x[0];if(E!==void 0&&console.error(E),T(!1,A),h===!0){const N=x.find(({comp:R})=>typeof R.focus=="function"&&qe(R.$)===!1);N!==void 0&&N.comp.focus()}}return!1})}function P(){i++,f.forEach(u=>{typeof u.resetValidation=="function"&&u.resetValidation()})}function g(u){u!==void 0&&ee(u);const h=i+1;q().then(C=>{h===i&&C===!0&&(e.onSubmit!==void 0?o("submit",u):u!==void 0&&u.target!==void 0&&typeof u.target.submit=="function"&&u.target.submit())})}function p(u){u!==void 0&&ee(u),o("reset"),Y(()=>{P(),e.autofocus===!0&&e.noResetFocus!==!0&&v()})}function v(){he(()=>{if(s.value===null)return;const u=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),h=>h.tabIndex>-1);u!=null&&u.focus({preventScroll:!0})})}Ae(Pe,{bindComponent(u){f.push(u)},unbindComponent(u){const h=f.indexOf(u);h>-1&&f.splice(h,1)}});let O=!1;return Ee(()=>{O=!0}),Re(()=>{O===!0&&e.autofocus===!0&&v()}),fe(()=>{e.autofocus===!0&&v()}),Object.assign(w.proxy,{validate:q,resetValidation:P,submit:g,reset:p,focus:v,getValidationComponents:()=>f}),()=>j("form",{class:"q-form",ref:s,onSubmit:g,onReset:p},me(d.default))}}),ft="./assets/serene.607593b5.png",mt="./assets/sustenance.0ca93aaf.png",gt="./assets/vriendenerf.78ad2774.jpg",vt="./assets/aardenhuizen.061d5e06.webp",ht="./assets/saxion.3771389a.png",kt="./assets/utwente.2d4778e3.png";const bt=Te({name:"LoginPage",setup(){const e=Xe(),d="aardehuis";console.log(d);const o=$e(),w=Je(),s=Be(),i=D(""),f=D(""),q=D(!0),P=D(!1),g=D({password:!1,username:!1,username_msg:null,password_msg:null}),p=je(),v=D(Me),O=D(!1);return s.rememberUsername&&(i.value=s.rememberUsername,O.value=!0),e.loading.hide(),{login:(h,C)=>{if(g.value.username_msg="Voer een gebruikersnaam in ",g.value.password_msg="Voer een wachtwoord in ",g.value.username=h.length===0,g.value.password=C.length===0,C.length!==0&&h.length!==0){const T=h.replace(/\s+/g,"").toLowerCase();P.value=!0,o.handleLogin(T,C).then(async $=>{o.token=$.data.access_token,o.refresh_token=$.data.refresh_token,await s.getAccountData().then(I=>{O.value?s.rememberUsername=T:s.rememberUsername=null,w.getDevices(),p.push("/")}).catch(I=>{o.clearAuth()})}).catch($=>{$.response?$.response.status===401?(g.value.username_msg=null,g.value.password_msg="Onjuiste gebruikersnaam of wachtwoord.",g.value.username=!0,g.value.password=!0):$.response.data.error_description==="Account is not fully set up"&&o.changePassword():De.create({message:"Het is niet gelukt om contact met server te maken",color:"negative"})}).finally($=>{P.value=!1})}},error_fields:g,authStore:o,username:i,tenant:d,loading:P,rememberMe:O,isPwd:q,aardehuizenImage:vt,vriendenerfImage:gt,sereneImage:ft,sustenanceImage:mt,app_version:v,password:f}}}),yt=["src","alt"],wt=z("div",{class:"text-grey-9 text-h5 text-weight-bold"},"Login",-1),xt=z("div",{class:"text-grey-8"},"Vul het formulier in om in te loggen",-1),pt={class:"text-grey-8 text-h6"},Mt={id:"image_container_bottom",style:{bottom:"0"},class:"row q-ma-ml q-col-gutter-x-xl flex flex-center items-center logos-bottom"},St={class:"col-4"},Vt=["src"],Ct=z("div",{class:"col-4"},[z("img",{src:ht,class:"login_img",alt:"Saxion logo"})],-1),_t=z("div",{class:"col-4"},[z("img",{src:kt,class:"login_img",alt:"Utwente logo"})],-1),Ft={class:"col-4 text-center"},It=z("a",{href:"https://sites.google.com/view/aardehuizen-app-privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy beleid",-1);function At(e,d,o,w,s,i){return ze(),Ne(Ye,{class:"flex flex-center"},{default:W(()=>[z("img",{id:"logo",src:e.tenant==="aardehuis"?e.aardehuizenImage:e.vriendenerfImage,alt:e.tenant==="aardehuis"?"Aardehuizen logo":"Sustenance logo",class:"login_logo"},null,8,yt),L(Ge,{class:"card q-mx-md",style:{width:"100%"},bordered:"",id:"login_card"},{default:W(()=>[L(ae,{class:"text-center"},{default:W(()=>[wt,xt]),_:1}),L(ae,null,{default:W(()=>[L(ct,{onSubmit:d[6]||(d[6]=ne(f=>e.login(e.username,e.password),["prevent","stop"]))},{default:W(()=>[L(ce,{rounded:"",outlined:"",autocomplete:"",modelValue:e.username,"onUpdate:modelValue":d[0]||(d[0]=f=>e.username=f),error:e.error_fields.username,"error-message":e.error_fields.username_msg,label:"Gebruikersnaam",onKeydown:d[1]||(d[1]=ie(ne(()=>{},["prevent"]),["space"]))},null,8,["modelValue","error","error-message"]),L(ce,{rounded:"",outlined:"",autocomplete:"",class:"q-mt-md",modelValue:e.password,"onUpdate:modelValue":d[3]||(d[3]=f=>e.password=f),error:e.error_fields.password,"error-message":e.error_fields.password_msg,label:"Wachtwoord",type:e.isPwd?"password":"text",onKeydown:d[4]||(d[4]=ie(ne(f=>e.login(e.username,e.password),["prevent"]),["enter"]))},{append:W(()=>[L(ge,{size:"lg",name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:d[2]||(d[2]=f=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","error","error-message","type"]),L(dt,{color:"accent",size:"xl","keep-color":"",dense:"",class:"q-pb-sm",label:"Onthoud gegevens",modelValue:e.rememberMe,"onUpdate:modelValue":d[5]||(d[5]=f=>e.rememberMe=f)},null,8,["modelValue"]),L(Ke,{color:"primary",rounded:"",size:"lg",label:"Login","no-caps":"",class:"full-width",loading:e.loading,type:"submit"},null,8,["loading"])]),_:1})]),_:1}),L(ae,{class:"text-center q-pt-none"},{default:W(()=>[z("div",pt,[z("a",{onClick:d[7]||(d[7]=f=>e.authStore.forgotPassword()),class:"text-dark text-weight-bold",style:{"text-decoration":"none"}},"Wachtwoord vergeten?")])]),_:1})]),_:1}),z("div",Mt,[z("div",St,[z("img",{src:e.tenant==="aardehuis"?e.sereneImage:e.sustenanceImage,class:"login_img",alt:"Serene logo"},null,8,Vt)]),Ct,_t,z("div",Ft,[Le(" Versie: "+Qe(e.app_version)+" - ",1),It])])]),_:1})}var jt=Oe(bt,[["render",At]]);export{jt as default};
